# Use the libinput driver for all event devices
Section "InputClass"
    Identifier      "libinput"
    Driver          "libinput"
    MatchDevicePath "/dev/input/event*"
    Option          "Tapping" "yes"
    Option          "DPIScaleFactor" "<%= scope['::nest::text_scaling_factor'] %>"
EndSection

Section "InputClass"
    Identifier      "libinput-touchpad-acceleration"
    MatchDriver     "libinput"
    MatchIsTouchpad "on"
    Option          "AccelSpeed" "<%= ((scope['::nest::text_scaling_factor'] - 1) / 2.0).round(2) %>"
EndSection

Section "InputClass"
    Identifier   "libinput-trackpoint-acceleration"
    MatchDriver  "libinput"
    MatchProduct "TPPS/2 IBM TrackPoint"
    Option       "AccelSpeed" "-<%= ((scope['::nest::text_scaling_factor'] - 1) / 2.0).round(2) %>"
EndSection
