---
classes:
  - 'nest::node::falcon'
  - 'nest::service::gitlab'

puppet::environment: 'podman'

nest::bootloader: systemd
nest::isolcpus: '16-31'
nest::kernel_cmdline:
  - 'console=ttyS1,115200n8'
  - 'console=tty0'
  - 'hugepages=10240'
  - 'intel_iommu=on'
  - 'pci-stub.ids=10de:0fbc,1912:0014'
  - 'intel_idle.max_cstate=2'
nest::kernel_config:
  CONFIG_CPU_FREQ_DEFAULT_GOV_PERFORMANCE: y
  CONFIG_CPU_FREQ_DEFAULT_GOV_USERSPACE: n
nest::libvirt: true
nest::processorcount: 16

nest::dvorak: true
nest::monitor_layout: ['DisplayPort-1', 'DisplayPort-0']
nest::primary_monitor: 'DisplayPort-0'
nest::text_scaling_factor: 1.1

nest::distcc_hosts: {}
nest::distcc_server: true
nest::fileserver: true
nest::openvpn_server: true

nest::barrier_config: |
  section: screens
  	falcon:
  	hawk:
  end
  
  section: options
  	keystroke(super+alt+up) = switchToScreen(hawk)
  	keystroke(super+alt+down) = switchToScreen(falcon)
  	mousebutton(6) = keystroke(WWWBack)
  	mousebutton(7) = keystroke(WWWForward)
  end

# XXX: Change this after moving it to a more private area
nest::service::gitlab::gmail_password: >
  ENC[PKCS7,MIICpQYJKoZIhvcNAQcDoIICljCCApICAQAxggI9MIICOQIBADAhMBwxGjAY
  BgNVBAMMEVB1cHBldCBDQTogcHVwcGV0AgEBMA0GCSqGSIb3DQEBAQUABIIC
  ALwxgjpzUDuuRJp0hHp1sTkCYSo73c5p9YG8cygFkSrigAeGn5qGu03uXsLs
  +SY4MI8g2iPTAeEJdMaWabv7FKU72B2BHMAIqPVI7avaCLJOFcB65Xv3U8Sl
  RJq6aK0wZdZUlXM/79vZJIy2jH8RwNMlj0mlWILsgjQFHU9ZwQwaQoLYoJm9
  E0ksQDwFrM+PXugXqCm+mtp8/bJB1tByBiipTLmiEgTZTh5qR2xdAJErxQSN
  y3f0THlFoe2oRWg7IRkkKJgbdhZ6WKyls2vbcOE5Nu0EspjrotSXo2vrc9qd
  xy3wq78n2BHgKnqNouhSjoMtx900JFjpmXBBlOAiF75P2aI/SsVekl0JmY+w
  ZAzGlzqtQbuU1fP6PYTaDlk/2XfIX/xa6kkoop/mWfPT8O2BrzKdwIwJ8wDn
  ao9RZPfta6hzcqQS0QMvJ7BNEp73AZSVoz5Q6cHLoAj5zHTm+Gw4i5VG78bV
  +7+a0QI1VV5EpR0pOgqNA5UWuSH6MIZdQbGFNe2n2mnryB3YMYHN1+hXxZYc
  iMpb+yrO/wcNAuVD2Q/XcoMRJSWOjpQcG0PiYtumNDO6yva6I/cmAyc3yqIz
  oOfZfl80gGoymvXMTsQsaearIj91FMdNlT+t9dWquUwx4PYkeaUl8bKjj4MM
  /1D+mlR8RK9//Yqz2NY+orCqMEwGCSqGSIb3DQEHATAdBglghkgBZQMEASoE
  EOlEDKD7T4YbsR6OpszDBlmAIIrvgKKfOqkbMmuaWkIAksyUj8T4g94OZGU8
  xneqfVZI]
