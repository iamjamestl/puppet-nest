---
nest::package_server: 'hawk'
nest::use: ['numa']

nest::package_keywords:
  mail-client/thunderbird: {}
  net-fs/nfs-utils: {}
  sys-auth/pam_ssh: {}
  www-client/firefox: {}

  # dracut
  sys-boot/plymouth: {}
  sys-kernel/dracut: {}

  # hiera-eyaml
  dev-ruby/hiera-eyaml: {}
  dev-ruby/trollop: {}

  # kde
  kde-apps/konsole: {}

  # networkmanager
  dev-libs/nss: {}

  # plasma
  kde-frameworks/kded: {}
  kde-frameworks/kitemviews: {}
  kde-frameworks/kdnssd: {}
  kde-frameworks/knewstuff: {}
  kde-frameworks/kparts: {}
  kde-plasma/kactivities-workspace: {}
  kde-frameworks/kdelibs4support: {}
  kde-frameworks/kjsembed: {}
  kde-plasma/plasma-workspace-wallpapers: {}
  kde-plasma/kgamma: {}
  kde-frameworks/kwidgetsaddons: {}
  kde-plasma/kwrited: {}
  kde-frameworks/solid: {}
  kde-frameworks/threadweaver: {}
  kde-apps/kio-extras: {}
  kde-frameworks/kiconthemes: {}
  kde-frameworks/kinit: {}
  kde-frameworks/kactivities: {}
  kde-plasma/ksshaskpass: {}
  kde-plasma/polkit-kde-agent: {}
  kde-frameworks/kfilemetadata: {}
  kde-plasma/systemsettings: {}
  kde-frameworks/kdesu: {}
  kde-frameworks/frameworkintegration: {}
  kde-plasma/kactivitymanagerd: {}
  kde-frameworks/ktextwidgets: {}
  kde-plasma/kdeplasma-addons: {}
  kde-frameworks/kpeople: {}
  kde-frameworks/kio: {}
  kde-plasma/oxygen: {}
  kde-plasma/libksysguard: {}
  kde-frameworks/attica: {}
  kde-frameworks/plasma: {}
  kde-plasma/kwin: {}
  kde-frameworks/knotifications: {}
  kde-frameworks/kconfigwidgets: {}
  kde-plasma/powerdevil: {}
  kde-frameworks/kcmutils: {}
  kde-frameworks/bluez-qt: {}
  kde-plasma/ksysguard: {}
  kde-frameworks/kwallet: {}
  kde-plasma/kwallet-pam: {}
  kde-frameworks/kcoreaddons: {}
  kde-plasma/kdecoration: {}
  kde-frameworks/kpackage: {}
  kde-plasma/plasma-meta: {}
  app-crypt/qca: {}
  kde-frameworks/kidletime: {}
  kde-plasma/kinfocenter: {}
  kde-plasma/plasma-nm: {}
  kde-frameworks/kemoticons: {}
  kde-frameworks/krunner: {}
  kde-plasma/kscreen: {}
  kde-plasma/milou: {}
  kde-frameworks/kdbusaddons: {}
  kde-frameworks/kservice: {}
  kde-plasma/kde-cli-tools: {}
  kde-frameworks/breeze-icons: {}
  kde-plasma/libkscreen: {}
  kde-frameworks/karchive: {}
  kde-frameworks/knotifyconfig: {}
  kde-frameworks/kdoctools: {}
  kde-frameworks/kjobwidgets: {}
  kde-frameworks/khtml: {}
  kde-frameworks/sonnet: {}
  kde-frameworks/kwayland: {}
  kde-plasma/breeze: {}
  kde-frameworks/kunitconversion: {}
  kde-frameworks/kcompletion: {}
  kde-frameworks/kitemmodels: {}
  kde-frameworks/networkmanager-qt: {}
  kde-frameworks/kguiaddons: {}
  kde-frameworks/kconfig: {}
  kde-frameworks/baloo: {}
  kde-frameworks/extra-cmake-modules: {}
  kde-frameworks/kglobalaccel: {}
  kde-frameworks/kcodecs: {}
  kde-plasma/oxygen-fonts: {}
  kde-frameworks/ktexteditor: {}
  kde-frameworks/kcrash: {}
  kde-frameworks/kxmlgui: {}
  kde-frameworks/kdesignerplugin: {}
  kde-frameworks/kxmlrpcclient: {}
  kde-plasma/khotkeys: {}
  kde-frameworks/kwindowsystem: {}
  kde-frameworks/kross: {}
  kde-frameworks/kdeclarative: {}
  kde-plasma/kscreenlocker: {}
  kde-plasma/kwayland-integration: {}
  kde-apps/khelpcenter: {}
  kde-plasma/user-manager: {}
  kde-plasma/breeze-gtk: {}
  kde-frameworks/kbookmarks: {}
  kde-frameworks/kauth: {}
  kde-plasma/bluedevil: {}
  kde-frameworks/kpty: {}
  kde-plasma/kmenuedit: {}
  kde-plasma/plasma-workspace: {}
  kde-plasma/kde-gtk-config: {}
  kde-plasma/sddm-kcm: {}
  kde-frameworks/ki18n: {}
  kde-frameworks/kjs: {}
  x11-misc/sddm: {}
  kde-plasma/plasma-desktop: {}
  kde-plasma/plasma-pa: {}
  kde-plasma/plasma-integration: {}

  # zfs
  sys-kernel/spl:
    version: '=0.6.5.6'
    keywords: '**'
  sys-fs/zfs-kmod:
    version: '=0.6.5.6'
    keywords: '**'
  sys-fs/zfs:
    version: '=0.6.5.6'
    keywords: '**'

nest::package_use:
  # For plymouth
  x11-libs/libdrm:
    use: 'libkms'

  # For nvidia-drivers
  x11-libs/libXext:
    use: 'abi_x86_32'
  dev-libs/libpthread-stubs:
    use: 'abi_x86_32'
  x11-proto/xproto:
    use: 'abi_x86_32'
  x11-proto/inputproto:
    use: 'abi_x86_32'
  x11-proto/xf86bigfontproto:
    use: 'abi_x86_32'
  x11-proto/xcb-proto:
    use: 'abi_x86_32'
  x11-libs/libxcb:
    use: 'abi_x86_32'
  x11-libs/libXau:
    use: 'abi_x86_32'
  x11-proto/xextproto:
    use: 'abi_x86_32'
  x11-libs/libXdmcp:
    use: 'abi_x86_32'
  x11-libs/libX11:
    use: 'abi_x86_32'
  x11-proto/kbproto:
    use: 'abi_x86_32'

  # For firefox
  dev-lang/python:
    use: 'sqlite'

  # For libvirt
  app-emulation/libvirt-glib:
    use: 'python'
  app-emulation/qemu:
    use: ['spice', 'usbredir']
  media-libs/mesa:
    use: 'gles2'
  net-dns/dnsmasq:
    use: 'script'
  net-libs/gtk-vnc:
    use: 'python'
  net-misc/spice-gtk:
    use: ['usbredir', 'python', 'gtk3']

nest::kernel_config:
  CONFIG_GENTOO_LINUX_INIT_SYSTEMD: y
  CONFIG_NUMA_BALANCING: y
  CONFIG_DEFAULT_CFQ: n
  CONFIG_DEFAULT_NOOP: y
  CONFIG_DEFAULT_IOSCHED: 'noop'
  CONFIG_X86_X2APIC: y
  CONFIG_X86_INTEL_PSTATE: y
  CONFIG_INTEL_IDLE: y
  CONFIG_PCI_STUB: y
  CONFIG_X86_SYSFB: y
  CONFIG_NETFILTER_XT_MATCH_COMMENT: m
  CONFIG_NETFILTER_XT_MATCH_MULTIPORT: m
  CONFIG_BRIDGE: m
  CONFIG_BLK_DEV_NVME: m
  CONFIG_MD_RAID1: m
  CONFIG_DM_CRYPT: m
  CONFIG_TUN: m
  CONFIG_E1000E: m
  CONFIG_IGB: m
  CONFIG_IWLWIFI: m
  CONFIG_IWLMVM: m
  CONFIG_MFD_RTSX_PCI: m
  CONFIG_DRM_RADEON: m
  CONFIG_DRM_I915: m
  CONFIG_FB_SIMPLE: y
  CONFIG_LOGO: n
  CONFIG_SND_DYNAMIC_MINORS: y
  CONFIG_SND_HDA_PREALLOC_SIZE: 2048
  CONFIG_SND_HDA_CODEC_REALTEK: y
  CONFIG_SND_HDA_CODEC_HDMI: y
  CONFIG_SND_HDA_CODEC_CONEXANT: y
  CONFIG_SND_USB_AUDIO: m
  CONFIG_HID_LOGITECH_DJ: m
  CONFIG_USB_XHCI_HCD: m
  CONFIG_VFIO: m
  CONFIG_VFIO_PCI: m
  CONFIG_IRQ_REMAP: y
  CONFIG_NFSD: m
  CONFIG_NFSD_V4: y
  CONFIG_CRYPTO_XTS: m
  CONFIG_CRYPTO_AES_NI_INTEL: m
  CONFIG_CRYPTO_SERPENT: m
  CONFIG_CRYPTO_SERPENT_SSE2_X86_64: m
  CONFIG_CRYPTO_SERPENT_AVX_X86_64: m
  CONFIG_CRYPTO_SERPENT_AVX2_X86_64: m
  CONFIG_CRYPTO_TWOFISH: m
  CONFIG_CRYPTO_TWOFISH_COMMON: m
  CONFIG_CRYPTO_TWOFISH_X86_64: m
  CONFIG_CRYPTO_TWOFISH_X86_64_3WAY: m
  CONFIG_CRYPTO_TWOFISH_AVX_X86_64: m
  CONFIG_CRYPTO_USER_API: m
  CONFIG_CRYPTO_USER_API_SKCIPHER: m
  CONFIG_CRYPTO_ZLIB: m
  CONFIG_KVM: m
  CONFIG_KVM_INTEL: m
  CONFIG_VHOST_NET: m

  # For libvirt
  CONFIG_MEMCG: y
  CONFIG_MEMCG_SWAP: y
  CONFIG_MEMCG_KMEM: y
  CONFIG_BRIDGE_NF_EBTABLES: m
  CONFIG_BRIDGE_EBT_T_NAT: m
  CONFIG_BRIDGE_EBT_MARK_T: m
  CONFIG_NETFILTER_ADVANCED: y
  CONFIG_NETFILTER_XT_TARGET_CHECKSUM: m
  CONFIG_NETFILTER_XT_CONNMARK: m
  CONFIG_NET_SCH_HTB: m
  CONFIG_NET_SCH_SFQ: m
  CONFIG_NET_SCH_INGRESS: m
  CONFIG_NET_CLS_FW: m
  CONFIG_NET_CLS_U32: m
  CONFIG_NET_ACT_POLICE: m
  CONFIG_MACVLAN: m
  CONFIG_MACVTAP: m
